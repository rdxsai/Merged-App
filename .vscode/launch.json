{
  "version": "0.2.0",
  "configurations": [
    {
      "name": "Debug API (uvicorn)",
      "type": "python",
      "request": "launch",
      "module": "uvicorn",
      "args": [
        "question_app.main:app",
        "--host",
        "0.0.0.0",
        "--port",
        "8080",
        "--reload"
      ],
      "env": {
        "PYTHONPATH": "${workspaceFolder}/src"
      },
      "envFile": "${workspaceFolder}/.env",
      "jinja": true,
      "console": "integratedTerminal"
    },
    {
      "name": "Debug Tests (pytest - all)",
      "type": "python",
      "request": "launch",
      "module": "pytest",
      "args": ["-q", "tests"],
      "env": {
        "PYTHONPATH": "${workspaceFolder}/src"
      },
      "envFile": "${workspaceFolder}/.env",
      "console": "integratedTerminal",
      "justMyCode": true
    },
    {
      "name": "Debug Test File",
      "type": "python",
      "request": "launch",
      "module": "pytest",
      "args": ["-q", "${file}"],
      "env": {
        "PYTHONPATH": "${workspaceFolder}/src"
      },
      "envFile": "${workspaceFolder}/.env",
      "console": "integratedTerminal",
      "justMyCode": true
    },
    {
      "name": "Debug Test by -k pattern",
      "type": "python",
      "request": "launch",
      "module": "pytest",
      "args": ["-q", "-k", "${input:pytestPattern}", "-s"],
      "env": {
        "PYTHONPATH": "${workspaceFolder}/src"
      },
      "envFile": "${workspaceFolder}/.env",
      "console": "integratedTerminal",
      "justMyCode": true
    },
    {
      "name": "Run: Poetry Script (dev)",
      "type": "python",
      "request": "launch",
      "module": "question_app.main",
      "args": [],
      "env": {
        "PYTHONPATH": "${workspaceFolder}/src"
      },
      "envFile": "${workspaceFolder}/.env",
      "console": "integratedTerminal"
    }
  ],
  "inputs": [
    {
      "id": "pytestPattern",
      "type": "promptString",
      "description": "pytest -k pattern (e.g. test_name or ClassName::test_name)",
      "default": "test_"
    }
  ]
}
